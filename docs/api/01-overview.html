<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Overview</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/kingfisher.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700|Source+Code+Pro" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Task</span> <span class="project-version">0.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="01-overview.html"><div class="inner"><span>Overview</span></div></a></li><li class="depth-1 "><a href="02-guide.html"><div class="inner"><span>User Guide</span></div></a></li><li class="depth-1 "><a href="03-executors.html"><div class="inner"><span>Execution Model</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="task.core.html"><div class="inner"><span>task.core</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#overview" name="overview"></a>Overview</h1>
<p>Tasks provide simple and functional concurrency primitives for Clojure. Tasks represent asynchronous computation as <em>pure values</em>, and favours function composition over <a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">callbacks</a> or promises.</p>
<p>Task promotes the use of combinators like <a href="task.core.html#var-then">then</a> and <a href="task.core.html#var-compose">compose</a>. These let you combine asynchronous data functionally, so that asynchronous steps are just transformations on a value.</p>
<h2><a href="#key-features" name="key-features"></a>Key features</h2>
<ul>
  <li><strong>Value-oriented</strong>: tasks are just eventual values. No more callbacks, regular <code>deref</code>/<code>@</code> is all you need.</li>
  <li><strong>Functional</strong>: tasks are composable. Tasks come with a set of operations that lets you compose and combine them in a functional manner.</li>
  <li><strong>Interoperable</strong>: Any Clojure <code>future</code>/<code>promise</code> can be converted into a task, and vice versa.</li>
  <li><strong>Asynchronous</strong>: tasks are always asynchronous. Tasks default to the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html?is-external=true">ForkJoinPool</a> executor.</li>
  <li><strong>Customizable</strong>: If you wish to control the execution model, you can define your own <a href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html">ExecutorService</a>.</li>
  <li><strong>Performant</strong>: The library leverages the standard <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/changes8.html">Java 8 Concurrency API</a>, a powerful framework for concurrent computation.</li>
</ul>
<h2><a href="#an-example" name="an-example"></a>An example</h2>
<p>For example, a potential use case is doing HTTP requests. If we want to operate on the value of a GET request, and apply a data transformation, this is what you need to do.</p>
<pre><code class="clojure">@(task/then
  (fn [data] (-&gt;&gt; data
                  cheshire/parse-string
                  :my-interesting-attribute
                  clojure.string/upper-case))
  (http/get "value"))
</code></pre>
<p>This whole value executes in another thread (depending on the <a href="./03-executors.html">execution model</a>) and <em>eventually</em> resolves to a value as it is <code>deref</code>d.</p>
<p>The snippet uses <a href="http://www.http-kit.org/">http-kit</a> to launch a GET request asynchronously. The http-kit promise is automatically converted into a task. Once the promise completes, we parse the string into JSON (<code>cheshire/parse-string</code>) and then extract our attribute from it, and then uppercase the results.</p>
<p>All of this is executed asynchronously, so we wrap the call to <code>then</code> with a call to <code>@</code>, which calls <a href="http://clojuredocs.org/clojure.core/deref">deref</a>, a Clojure standard library function, to <em>await</em> its result in the current thread. This blocks the execution of the current thread an and returns the result of the computation.</p>
<p>Head over to the <a href="./02-guide.html">User Guide</a> to learn more!</p></div></div></div></body></html>